---
layout: single
title: gitlab的若干使用技巧
date: 2016-07-23
categories:
  - 日志
tags:
  - 500
---

gitlab 是一个开源的 git 服务软件，与大名鼎鼎的 github 所提供的功能类似，适合企业或团队搭建属于自己的在线 git 仓库。

近期我给自己所在的开发团队也搭建了一个 gitlab，经过一段时间的试用，反应效果良好，具备发展成为自有开发社区的潜力。摸索了若干的使用技巧给初使用者：

1、尽量使用 ssh 协议访问仓库。gitlab 默认给仓库提供两种访问方式，一种是 https，一种是 ssh，前者使用简单但是遇到文件较多或较大时容易出现问题（由于 HTTP 协议导致），后者则是配置上略复杂但是一旦设置好一劳永逸，可以免密码登录。

2、利用分组（Groups）管理权限，有时候项目比较大，往往一个项目下包含多个开发工程，如果分别给参与这些工程的人员进行授权的话，比较繁琐，而利用 Groups 分组的功能，可以将若干个项目成员放入同一个分组，这样此分组的 git 工程将自动继承分组的权限设置，只需要设置一次即可，如果有特例仍然可以在具体的 git 工程下进行特殊设置，比较灵活。

3、善用 Markdown 写文档，每一个工程下面都应该有一个以 readme.md 命名的 markdown 格式文档，用于详细说明这个工程的信息，可以图文并茂，超链接到其他的文档，以及包含代码片段并进行语法高亮，gitlab 系统会自动在该项目的主页中渲染这个文件，这样当别人第一次进入这个项目时就可以迅速了解这个工程了。

4、利用评论（comment）进行代码评审（code review），每当有人进行了提交之后，在系统的信息流上都可以看到这个提交的具体改动，作为项目技术负责人可以及时的了解提交情况，并针对此次提价的代码修改内容进行评论，可以细化到每一行，评论的信息系统会自动发送邮件给相关负责人，可以重复利用这个特性来做代码评审。

5、保护 master 分支，git 工程的 master 分支一般比较重要，可以通过设置将 master 分支保护起来，使得只有具有高权限的人员才能推送到该分支，而一般开发者将自己的成果提交到普通分支，经过代码评审后再由技术负责人将分支合并。

6、善用代码片段（Snippets）分享功能，gitlab 系统也提供了代码片段分享功能（类似于 github 的 gist），每个人都可以将自己常用的代码片段保存到系统并分享给大家，比自己留在本地电脑上要方便很多，而且能发挥这些片段的最大价值。
